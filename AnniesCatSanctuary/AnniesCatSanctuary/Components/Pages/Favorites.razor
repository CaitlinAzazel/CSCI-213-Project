@page "/favorites"
@using AnniesCatSanctuary.Services
@using AnniesCatSanctuary.Data
@inject PetManagementService PetManagementService
@inject PetFavoritesService PetFavoritesService

<h3>Favorite Pets</h3>

<ul>
    @foreach (var pet in pets.Where(p => favoritePets.Contains(p.Name)))
    {
        <li>
            <strong>@pet.Name</strong> - @pet.Type
        </li>
    }
</ul>

@code {
    private List<Pet> pets = new List<Pet>();
    private List<string> favoritePets = new List<string>();

    protected override void OnInitialized()
    {
        pets = PetManagementService.GetPets();
        favoritePets = PetFavoritesService.GetFavoritePets();
    }
}
